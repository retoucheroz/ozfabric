
> ozfabric@0.1.0 dev
> next dev

 âš  Port 3000 is in use by process 11344, using available port 3001 instead.
   â–² Next.js 15.5.10
   - Local:        http://localhost:3001
   - Network:      http://192.168.1.10:3001
   - Environments: .env.local
   - Experiments (use with caution):
     Â· serverActions

 âœ“ Starting...
 âœ“ Ready in 1295ms
 âœ“ Compiled /middleware in 142ms (114 modules)
 â—‹ Compiling / ...
 âœ“ Compiled / in 804ms (894 modules)
 GET / 200 in 1076ms
 âœ“ Compiled /favicon.ico in 222ms (924 modules)
 GET /favicon.ico 200 in 290ms
ğŸ Session API: No session found
 GET /api/auth/session 200 in 319ms
ğŸ Session API: No session found
 GET /api/auth/session 200 in 8ms
 âœ“ Compiled /api/auth/login in 255ms (927 modules)
ğŸ” Login attempt started...
ğŸ‘¤ User: admin, AdminPass configured: true
â­ Admin override detected
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ”‘ Auth: createSession(admin) [0zit89fpke8mlxhhpg5]
 POST /api/auth/login 200 in 3195ms
 â—‹ Compiling /home ...
 âœ“ Compiled /home in 766ms (1008 modules)
 GET /home 200 in 928ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 723ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 669ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 674ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 676ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 737ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 760ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 5171ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 7063ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 376ms
 â—‹ Compiling /photoshoot ...
 âœ“ Compiled /photoshoot in 1305ms (1194 modules)
 GET /photoshoot 200 in 1512ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 126ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 96ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 304ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 297ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 295ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 113ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 310ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 284ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 295ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 300ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 292ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 369ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 286ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 290ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 113ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 893ms
 âœ“ Compiled /api/translate in 343ms (1100 modules)
 POST /api/translate 200 in 1053ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 361ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 295ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 316ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 289ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 303ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 298ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 288ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 111ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 114ms
 âœ“ Compiled /_not-found in 283ms (1102 modules)
 GET /LIGHTING_SET 404 in 499ms
 GET /LIGHTING_SET 404 in 31ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 304ms
 âœ“ Compiled /api/pose in 380ms (1140 modules)
Pose API: Sanitizing image URL...
Pose API: Sanitized URL (length): 91983
Pose API: Running fal-ai/dwpose...
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 299ms
 GET /LIGHTING_SET 404 in 166ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 296ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 287ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 287ms
Pose API: Fal Result received
 POST /api/pose 200 in 94672ms
 âœ“ Compiled /api/analyze in 312ms (1098 modules)
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ’¾ Auth: saveUser(admin) -> Existing: true, Role: admin, Pages: 1
 POST /api/analyze 200 in 5741ms
 âœ“ Compiled /api/generate in 232ms (1102 modules)
 POST /api/generate 200 in 276ms
 POST /api/generate 200 in 276ms
 POST /api/generate 200 in 266ms
 POST /api/generate 200 in 297ms
 âœ“ Compiled /api/auth/session in 90ms (602 modules)
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 413ms
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 303ms
 âœ“ Compiled /api/user/credits/deduct in 324ms (1097 modules)
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ’¾ Auth: saveUser(admin) -> Existing: true, Role: admin, Pages: 1
 POST /api/user/credits/deduct 200 in 750ms
 âœ“ Compiled /api/generate in 76ms (599 modules)
Generation error: Error: Fal API Error (front): {"detail":[{"loc":["body","image_urls"],"msg":"At least one image URL is required.","type":"value_error","url":"https://docs.fal.ai/errors#value_error","input":[]}]}
    at generateOne (app/api/generate/route.ts:858:23)
    at async POST (app/api/generate/route.ts:961:25)
  856 |             if (!response.ok) {
  857 |                 const err = await response.text();
> 858 |                 throw new Error(`Fal API Error (${view}): ${err}`);
      |                       ^
  859 |             }
  860 |             const data = await response.json();
  861 |             const falUrl = data.images?.[0]?.url;
 POST /api/generate 500 in 814ms
Generation error: Error: Fal API Error (front): {"detail":[{"loc":["body","image_urls"],"msg":"At least one image URL is required.","type":"value_error","url":"https://docs.fal.ai/errors#value_error","input":[]}]}
    at generateOne (app/api/generate/route.ts:858:23)
    at async POST (app/api/generate/route.ts:961:25)
  856 |             if (!response.ok) {
  857 |                 const err = await response.text();
> 858 |                 throw new Error(`Fal API Error (${view}): ${err}`);
      |                       ^
  859 |             }
  860 |             const data = await response.json();
  861 |             const falUrl = data.images?.[0]?.url;
 POST /api/generate 500 in 267ms
Generation error: Error: Fal API Error (back): {"detail":[{"loc":["body","image_urls"],"msg":"At least one image URL is required.","type":"value_error","url":"https://docs.fal.ai/errors#value_error","input":[]}]}
    at generateOne (app/api/generate/route.ts:858:23)
    at async POST (app/api/generate/route.ts:961:25)
  856 |             if (!response.ok) {
  857 |                 const err = await response.text();
> 858 |                 throw new Error(`Fal API Error (${view}): ${err}`);
      |                       ^
  859 |             }
  860 |             const data = await response.json();
  861 |             const falUrl = data.images?.[0]?.url;
 POST /api/generate 500 in 248ms
Generation error: Error: Fal API Error (front): {"detail":[{"loc":["body","image_urls"],"msg":"At least one image URL is required.","type":"value_error","url":"https://docs.fal.ai/errors#value_error","input":[]}]}
    at generateOne (app/api/generate/route.ts:858:23)
    at async POST (app/api/generate/route.ts:961:25)
  856 |             if (!response.ok) {
  857 |                 const err = await response.text();
> 858 |                 throw new Error(`Fal API Error (${view}): ${err}`);
      |                       ^
  859 |             }
  860 |             const data = await response.json();
  861 |             const falUrl = data.images?.[0]?.url;
 POST /api/generate 500 in 406ms
 âœ“ Compiled /api/auth/session in 97ms (595 modules)
ğŸ”‘ Auth: getSession(0zit89fpke8mlxhhpg5) -> Found (admin)
ğŸ‘¤ Auth: getUser(admin) -> Role: admin, Pages: 1
ğŸ Session API: Success for [admin] as [admin]
 GET /api/auth/session 200 in 507ms
